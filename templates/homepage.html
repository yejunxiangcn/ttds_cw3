{% extends "base.html" %}
{% block title %}Home Page{% endblock %}
{% block content %}
<style type="text/css">

.btn-link{
  color:black;
  text-decoration:none;
}
.btn-link:hover{
  text-decoration:underline;
}

        table{
            margin-left:30px;
            float:left;
            width:400px;
           border-collapse:collapse;
        }
        th,td{
            border:0px solid black;
        }
        tr td:first-child{
            border-left:0;
        }
        tr td:last-child {
            border-right:0;
        }
        tr:first-child td,tr:first-child th{
            border-top:0px;
        }
        tr:last-child td{
            border-bottom:0px;
        }


        #query{
float:left;
width:auto;
}
#searchForm>input:not(:first-child){
float:left;
width:400px;
margin-right:80px;


}
#heatTable{
    width:100%;
    height: 400px;
    text-align: center;
}
#table1{
   margin:auto;
   width:300px;
   border-collapse:collapse;
}
 </style>

<div class="logo" id="logo">
	<img class="img" src="../static/images/logo.png" style="width:300px;height:143px;display:table-cell;overflow:hidden;position:relative;text-align:center;vertical-align:middle;">
</div>



<div class="container">
  <form method="GET" action="javascript:void(0);" name="mainForm">
    {{ form.hidden_tag() }}
      <div  id="searchWrapper">
    <div class="btn-group btn-group-lg" role="group" aria-label="Basic radio toggle button group">
        <input type="radio" class="btn-check" name="btnradio" onclick="setIsSearchID(false)" id="btnradio1" autocomplete="off" checked style="border: none; border-bottom-left-radius: 0;">
        <label class="btn btn-outline-primary btn-sm" for="btnradio1" style="border: none; border-bottom-left-radius: 0;">Keywords</label>

        <input type="radio" class="btn-check" name="btnradio" onclick="setIsSearchID(true)" id="btnradio2" autocomplete="off" style="border: none; border-bottom-right-radius: 0">
        <label class="btn btn-outline-primary btn-sm" style="border: none; border-bottom-right-radius: 0" for="btnradio2">Book ID</label>
    </div>
    <div id="searchForm" class="input-group mb-3 input-group-lg">
            <input id="query" required style="border-top-left-radius: 0; border-bottom-right-radius: 0;border-top-right-radius: 0" type="text" class="form-control autocomplete" placeholder="Search here" aria-label="Searching" aria-describedby="basic-addon1" oninput="OnInput (event)" >
        <div class="input-group-append">
            <button type="button" style="border-bottom-left-radius: 0;border-top-left-radius: 0" class="btn btn-outline-primary btn-lg" onclick="search()"><i class="fa fa-search"></i></button>
        </div>
        <button type="button" style="border-bottom-left-radius:100%;border-top-left-radius:100%;background-color:#D3D3D3;border:none;margin-left: 3px" class="btn btn-secondary" onclick="booleanAdd()" ><i class="fa fa-plus"></i></button>
        <button type="button" style="border-bottom-right-radius:100%;border-top-right-radius:100%;background-color:#D3D3D3;border:none;" class="btn btn-secondary" onclick="delLastInput()" ><i class="fa fa-minus"></i></button>
    </div>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" id="btncheck1" checked/>
      <label class="form-check-label" for="btncheck1">Search Description</label>
    </div>
      </div>
  </form>

  <br/>
  <br/>
  <br/>
</div> <!-- /container -->

{% endblock %}


{% block heat %}

  <script>
    $(document).ready(function(){
      var query = 'for heat search.';
      $.ajax({
        type: "GET",
        dataType: "json",
        url: './heatsearch',
        contentType: "application/json",
        data:JSON.stringify({
            "query":query
        }),
        complete: function(xmlHttp) {
          obj = JSON.parse(xmlHttp.responseText);
          //var obj = xmlHttp.responseText;

          //$("#heat").append(xmlHttp.responseText);

        $("#heatword1").text(obj[0]);
        $("#heatword2").text(obj[1]);
        $("#heatword3").text(obj[2]);
        $("#heatword4").text(obj[3]);
        $("#heatword5").text(obj[4]);
        $("#heatword6").text(obj[5]);
        }
      });
    });

    function addToSearch(txt){
      document.getElementById("query").value = txt;
    }

  </script>


  <div id="heat" class="container">
    <div class="heatTitle">
        <img src="../static/images/heat.png" >
        <h5 class="ht">HOT!</h5>
     </div>
    <br/><br/>
    <div float="left" width="auto">
        <div id="heatTable">
      <table id="table1">
        <tr>
            <td>
              <button id="heatword1" type="button" class="btn btn-link " onclick = "addToSearch(this.innerHTML)"></button>
            </td>
            <td>
              <button id="heatword2" type="button" class="btn btn-link" onclick = "addToSearch(this.innerHTML)"></button>
            </td>
        </tr>
        <tr>
            <td>
              <button id="heatword3" type="button" class="btn btn-link" onclick = "addToSearch(this.innerHTML)"></button>
            </td>
            <td>
              <button id="heatword4" type="button" class="btn btn-link" onclick = "addToSearch(this.innerHTML)"></button>
            </td>
        </tr>
        <tr>
            <td>
              <button id="heatword5"  type="button" class="btn btn-link" onclick = "addToSearch(this.innerHTML)"></button>
            </td>
            <td>
              <button id="heatword6" type="button" class="btn btn-link" onclick = "addToSearch(this.innerHTML)"></button>
            </td>

        </tr>
      </table>
        </div>
        </div>
  </div>

{% endblock %}


{% block result %}
  <div id="results" class="container"></div>
{% endblock %}

{% block footer %}
{% endblock %}
